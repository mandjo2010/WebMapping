{"version":3,"sources":["Scripts/customFunctions.js","Scripts/Layers.js"],"names":["map","$","data","mapLayers","getLayers","getLayerByName","layerName","layer","forEach","lyr","get","require","layers","closer","dragElement","elmnt","pos1","pos2","pos3","pos4","dragMouseDown","e","window","event","preventDefault","clientX","clientY","document","onmouseup","closeDragElement","onmousemove","elementDrag","style","top","offsetTop","left","offsetLeft","getElementById","id","onmousedown","click","layersDiv","layersDivTitle","layersDivContent","html","css","element","append","prop","getVisible","change","checkbox","setVisible","checked"],"mappings":";AAaC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAbD,IAAMA,EAAIC,EAAE,QAAQC,KAAK,OACnBC,EAAUH,EAAII,YAIb,SAASC,EAAeC,GACvBC,IAAAA,EAAO,KAMJA,OAJPJ,EAAUK,QAAQ,SAAAC,GACXA,EAAIC,IAAI,UAAUJ,IACrBC,EAAME,KAEHF;;ACZX,IAA2BI,EAAAA,QAAQ,qBAA3BN,EAAAA,EAAAA,eAEFL,EAAIC,EAAE,QAAQC,KAAK,OACnBU,EAAOZ,EAAII,YACXS,EAAOZ,EAAE,qBAuCf,SAASa,EAAYC,GACfC,IAAAA,EAAO,EAAGC,EAAO,EAAGC,EAAO,EAAGC,EAAO,EAShCC,SAAAA,EAAcC,IACrBA,EAAIA,GAAKC,OAAOC,OACdC,iBAEFN,EAAOG,EAAEI,QACTN,EAAOE,EAAEK,QACTC,SAASC,UAAYC,EAErBF,SAASG,YAAcC,EAGhBA,SAAAA,EAAYV,IACnBA,EAAIA,GAAKC,OAAOC,OACdC,iBAEFR,EAAOE,EAAOG,EAAEI,QAChBR,EAAOE,EAAOE,EAAEK,QAChBR,EAAOG,EAAEI,QACTN,EAAOE,EAAEK,QAETX,EAAMiB,MAAMC,IAAOlB,EAAMmB,UAAYjB,EAAQ,KAC7CF,EAAMiB,MAAMG,KAAQpB,EAAMqB,WAAapB,EAAQ,KAGxCa,SAAAA,IAEPF,SAASC,UAAY,KACrBD,SAASG,YAAc,KAnCnBH,SAASU,eAAetB,EAAMuB,GAAK,WAEvCX,SAASU,eAAetB,EAAMuB,GAAK,WAAWC,YAAanB,EAGvDL,EAAMwB,YAAcnB,EA3C5BnB,EAAE,WAAWuC,MAAM,WACbC,IAAAA,EAAUxC,EAAE,cACZyC,EAAezC,EAAE,oBACjB0C,EAAiB1C,EAAE,sBACzByC,EAAeE,KAAK,UACpBD,EAAiBC,KAAK,IACtBH,EAAUI,IAAI,UAAU,SAGxBjC,EAAOJ,QAAQ,SAAAD,GACRA,GAAAA,EAAMG,IAAI,QAAQ,CACXoC,IAAAA,EAC+CvC,wFAAAA,OAAAA,EAAMG,IAAI,QACTH,mEAAAA,OAAAA,EAAMG,IAAI,QAFhE,4BAIAiC,EAAiBI,OAAOD,GACxB7C,EAAMM,IAAAA,OAAAA,EAAMG,IAAI,UAAWsC,KAAK,UAAWzC,EAAM0C,iBAKjDhD,EAAE,qBAAqBiD,OAAO,WACpBC,IACA7C,EADS,KACYgC,GACbjC,EAAeC,GAEvB8C,WAJS,KAIWC,aAI9BxC,EAAO2B,MAAM,WACTvC,EAAE,cAAc4C,IAAI,UAAW,UAI3C/B,EAAYa,SAASU,eAAe","file":"Layers.4b33e921.js","sourceRoot":"..","sourcesContent":["const map=$('#map').data('map');\r\nconst mapLayers=map.getLayers();\r\n\r\n\r\n\r\nexport function getLayerByName(layerName){\r\n    let layer =null;\r\n\r\n    mapLayers.forEach(lyr =>{\r\n        if(lyr.get('name')===layerName)\r\n        layer=lyr;\r\n    });\r\n    return layer;\r\n}","const { getLayerByName } = require(\"./customFunctions\");\r\n\r\nconst map=$('#map').data('map');\r\nconst layers=map.getLayers();\r\nconst closer=$('#draggable-closer');\r\n\r\n\r\n$('#layers').click(function(){\r\nconst layersDiv=$('#draggable');\r\nconst layersDivTitle=$('#draggable-title');\r\nconst layersDivContent=$('#draggable-content');\r\nlayersDivTitle.html('Layers');\r\nlayersDivContent.html('');\r\nlayersDiv.css('display','block');\r\n\r\n\r\nlayers.forEach(layer=>{\r\n    if(layer.get('name')){\r\n        const element = `<div class=\"form-check\">\r\n        <input type=\"checkbox\" class=\"form-check-input\" id=${layer.get('name')}>\r\n        <label class=\"form-check-label\" for=\"exampleCheck1\">${layer.get('name')}</label>\r\n        </div>`;\r\n        layersDivContent.append(element);\r\n        $(`#${layer.get('name')}`).prop('checked', layer.getVisible());\r\n    }\r\n        \r\n});\r\n\r\n        $('.form-check-input').change(function(){\r\n            const checkbox=this;\r\n            const layerName = checkbox.id;\r\n            const layer = getLayerByName(layerName);\r\n            // @ts-ignore\r\n            layer.setVisible(checkbox.checked);\r\n        });\r\n});\r\n// Make the closer function:\r\n        closer.click(function(){\r\n            $('#draggable').css('display', 'none');\r\n        });\r\n\r\n// Make the DIV element draggable:\r\ndragElement(document.getElementById(\"draggable\"));\r\nfunction dragElement(elmnt) {\r\n  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;\r\n    if (document.getElementById(elmnt.id + \"-header\")) {\r\n        // if present, the header is where you move the DIV from:\r\n    document.getElementById(elmnt.id + \"-header\").onmousedown =dragMouseDown;\r\n    } else {\r\n        // otherwise, move the DIV from anywhere inside the DIV:\r\n        elmnt.onmousedown = dragMouseDown;\r\n    }\r\n\r\n  function dragMouseDown(e) {\r\n    e = e || window.event;\r\n    e.preventDefault();\r\n    // get the mouse cursor position at startup:\r\n    pos3 = e.clientX;\r\n    pos4 = e.clientY;\r\n    document.onmouseup = closeDragElement;\r\n    // call a function whenever the cursor moves:\r\n    document.onmousemove = elementDrag;\r\n  }\r\n\r\n  function elementDrag(e) {\r\n    e = e || window.event;\r\n    e.preventDefault();\r\n    // calculate the new cursor position:\r\n    pos1 = pos3 - e.clientX;\r\n    pos2 = pos4 - e.clientY;\r\n    pos3 = e.clientX;\r\n    pos4 = e.clientY;\r\n    // set the element's new position:\r\n    elmnt.style.top = (elmnt.offsetTop - pos2) + \"px\";\r\n    elmnt.style.left = (elmnt.offsetLeft - pos1) + \"px\";\r\n  }\r\n\r\n  function closeDragElement() {\r\n    // stop moving when mouse button is released:\r\n    document.onmouseup = null;\r\n    document.onmousemove = null;\r\n  }\r\n};"]}